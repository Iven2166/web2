---
title: "读书笔记-推荐系统相关知识"
date: 2023-02-01
toc: true
categories:
  - reco
classes: wide
words_per_minute: 10
---

# 推荐系统简介

推荐系统需要众多模块合作：
- 日志系统去收集用户交互数据，落原始数据
- 数据加工：大数据系统、流式计算系统加工数据
- 模型更新：在线学习，系统及时去更新模型
- 监控系统：有监控体系去定期反馈模型是否运行正常，能够自动报警
- AB系统：有完善的模型、算法、策略评估体系，能够逐步优化推荐系统

## 各环节

| 环节 | 量级 | 角色                                                                                                                                                                       |
|------|------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 召回 | 百万 | 在短时间内，从物料库内召回接近用户兴趣的物料（剔除离谱的物料）。 由于速度要求，以及量级巨大，所以精度不做太高要求，以多路召回来弥补。 主要依赖“离线缓存，在线索引”的操作。 |
| 粗排 | 万   | 处于召回和精排之间，在数据量、模型结构复杂程度，相对平衡。                                                                                                                 |
| 精排 | 千   | 由于量级较小，所以模型结构可以较复杂，对精度要求较高。 在推荐链路靠后，能够较大影响最终结果。                                                                              |
| 重排 | 几十 | 对于精排结果有可能集聚的情况，把相似内容进行打散，减少用户审美疲劳。                                                                                                       |

## 数据架构：lambda架构

- 实时数据流
  - 在线层：利用 storm、flink等流式计算框架，用户行为不等数据落地，就直接分析计算，计算结果缓存到redis
- 历史日志
  - 离线层：小时级别的定时任务，去回溯过去较长周期的用户行为日志。hadoop、spark
  - 近线层：HDFS读写效率低的介质，所以结果导入redis这种键值型数据库，加速访问

